import{r as w}from"./index.BL7xzsR_.js";/* empty css                       */var S={exports:{}},$={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F;function W(){if(F)return $;F=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,s){var c=null;if(s!==void 0&&(c=""+s),o.key!==void 0&&(c=""+o.key),"key"in o){s={};for(var d in o)d!=="key"&&(s[d]=o[d])}else s=o;return o=s.ref,{$$typeof:e,type:r,key:c,ref:o!==void 0?o:null,props:s}}return $.Fragment=t,$.jsx=n,$.jsxs=n,$}var I;function K(){return I||(I=1,S.exports=W()),S.exports}var i=K();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:c,...d},l)=>w.createElement("svg",{ref:l,...te,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Y("lucide",o),...d},[...c.map(([h,a])=>w.createElement(h,a)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(e,t)=>{const n=w.forwardRef(({className:r,...o},s)=>w.createElement(ne,{ref:s,iconNode:t,className:Y(`lucide-${ee(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],oe=k("Download",re);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ae=k("ExternalLink",se);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ce=k("Search",ie);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ue=k("Trash2",le);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],fe=k("Upload",de);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],he=k("X",me);var A=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{2}:?[0-9]{2})?$/;function pe(e){const t=e.match(A);if(t){const n=Number(t[2]);if(n<1||n>12)return!1;if(typeof t[3]!==void 0){const r=Number(t[3]);if(r<1||r>31)return!1}if(typeof t[4]!==void 0){const r=Number(t[4]);if(r<0||r>23)return!1}return!0}return!1}function ge(e){const t=e.match(A);return t&&typeof t[4]>"u"?e+="T00:00:00":e}function D(e){if(e||(e=new Date),e instanceof Date){const t=new Date(e);return t.setMilliseconds(0),t}if(e=e.trim(),pe(e))return new Date(ge(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}var E="1999-03-04T02:05:01.000Z",C=new Map,B=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["ZZ",{timeZoneName:"long"}],["Z",{timeZoneName:"short"}]],H=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],q=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]];function ye(e){if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}var xe=["MMMM","MMM","dddd","ddd"],p=new Map([...B,...H,...q].map(e=>[e[0],e])),R=new Map,we=["full","long","medium","short"];function T(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}function ve(e,t,n,r=!1,o=null){const s=be(e,t,n,r),c=D(e);function d({partName:l,partValue:h,token:a}){if(l==="literal")return h;const u=s[l];if(l==="hour"&&a==="H")return u.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(a)&&u.length===1)return`0${u}`;if(l==="dayPeriod"){const g=ke(c.getUTCHours()<12?"am":"pm",n);return a==="A"?g.toUpperCase():g.toLowerCase()}return l==="timeZoneName"?o??z(-1*c.getTimezoneOffset(),a):u}return t.map(l=>({...l,value:d(l)}))}function be(e,t,n,r=!1){const o=D(e),s=t.filter(a=>a.hour12),c=t.filter(a=>!a.hour12),d=[],l=[];function h(a,u=!1){const g=`${n}-u-hc-${u?"h12":"h23"}`;if(d.push(...new Intl.DateTimeFormat(g,a.reduce((m,y)=>y.partName==="literal"?m:(r&&xe.includes(y.token)&&l.push(y),Object.assign(m,y.option)),{timeZone:"UTC"})).formatToParts(o).map(T)),r&&l.length)for(const m of l){let y=[];switch(m.token){case"MMMM":y=new Intl.DateTimeFormat(g,{dateStyle:"long",timeZone:"UTC"}).formatToParts(o).map(T);break;case"MMM":y=new Intl.DateTimeFormat(g,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(o).map(T);break}const M=y.find(N=>N.type===m.partName),Z=d.findIndex(N=>N.type===m.partName);M&&Z>-1&&(d[Z]=M)}}return s.length&&h(s,!0),c.length&&h(c),d.reduce((a,u)=>(a[u.type]=u.value,a),{})}function z(e,t="Z"){const n=String(Math.floor(Math.abs(e/60))).padStart(2,"0"),r=String(Math.abs(e%60)).padStart(2,"0"),o=e<0?"-":"+";return t==="ZZ"?`${o}${n}${r}`:`${o}${n}:${r}`}function Me(e,t){Te(e,t);const[n,r,o,s]=e.match(/([+-])([0-3][0-9]):?([0-6][0-9])/),c=Number(o)*60+Number(s);return r==="+"?c:-c}function Te(e,t="Z"){if(!(r=>{switch(r){case"Z":return/^([+-])[0-3][0-9]:[0-6][0-9]$/.test(e);case"ZZ":return/^([+-])[0-3][0-9][0-6][0-9]$/.test(e)}})(t))throw new Error(`Invalid offset: ${e}`);return e}function je(e){return typeof e=="string"?e.includes("ZZ")?"ZZ":"Z":"time"in e&&e.time==="full"?"Z":"ZZ"}function ke(e,t){const n=R.get(t);if(n&&n[e])return n[e];const r=new Date(E);r.setUTCHours(e==="am"?5:20);const s=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(r).map(T).find(c=>c.type==="dayPeriod");if(s){const c=n||{};return R.set(t,Object.assign(c,{[e]:s.value})),s.value}return e}function Ne(e,t="+00:00"){const n=D(e),r=(()=>{switch(ye(t)){case 5:return"ZZ";case 6:return"Z"}})(),o=Me(t,r);return new Date(n.getTime()+o*1e3*60)}function J(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function _(e,t){const n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hourCycle:"h23"}).formatToParts(e).map(T),r={};return n.forEach(o=>{r[o.type]=o.value}),new Date(`${r.year}-${r.month}-${r.day}T${r.hour}:${r.minute}:${r.second}Z`)}function U(e,t="UTC",n="device",r="Z"){var o;n=n==="device"?(o=J())!=null?o:"utc":n;const s=D(e),c=_(s,t),d=_(s,n),l=Math.round((d.getTime()-c.getTime())/1e3/60);return z(l,r)}function $e(e,t){if(we.includes(e)||typeof e=="object")return De(e,t);let n=e,r=0;const o=a=>{if(a[2]||(a[2]=new RegExp(`(.)?(${a[0]})`,"g")),a[2].test(n)){let u=0;return n=n.replace(a[2],(g,m,y)=>m==="\\"?y:`${typeof m=="string"?m:""}{!${u++?r:r++}!}`),!!u}return!1};function s(a){const u=a.map(m=>m.partName),g=new Set(u);if(u.length>g.size)throw new Error("Cannot reuse format tokens.");return a}function c(a,[u,g,m]){const y=Object.keys(g)[0],M=g[y];return{option:g,partName:y,partValue:M,token:u,pattern:m,hour12:a}}const d=B.filter(o).concat(H.filter(o)).map(c.bind(null,!1)),l=s(d.concat(q.filter(o).map(c.bind(null,!0)))),h=/^\{!(\d+)!\}$/;return n.split(/(\{!\d+!\})/).map(a=>{const u=a.match(h);return u?l[Number(u[1])]:{option:{literal:a},partName:"literal",partValue:a,token:a,pattern:new RegExp(""),hour12:!1}}).filter(a=>!(a.partName==="literal"&&a.partValue===""))}function De(e,t){const n={timeZone:"UTC"};typeof e=="string"?n.dateStyle=e:("date"in e&&(n.dateStyle=e.date),"time"in e&&(n.timeStyle=e.time));const r=new Intl.DateTimeFormat(t,n),o=r.formatToParts(new Date(E)).map(T),c=r.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(T).find(l=>l.type==="hour"),d=c&&c.value==="23"?24:12;return o.map(l=>{const h=l.type,a=Ze(l.type,l.value,t,l.type==="hour"?d:void 0,n);if(a===void 0)return;const u=a[1][h];if(u)return a[2]||(a[2]=new RegExp(`${a[0]}`,"g")),{option:{[h]:u},partName:h,partValue:u,token:a[0],pattern:a[2],hour12:d===12}}).filter(l=>!!l)}function Ze(e,t,n,r,o){const s=t.length,c=!isNaN(Number(t));let d;switch(e){case"year":return s===2?p.get("YY"):p.get("YYYY");case"month":if(c)return s===1?p.get("M"):p.get("MM");switch(d=L(n,e,t),d){case"long":return p.get("MMMM");default:return p.get("MMM")}case"day":return s===1?p.get("D"):p.get("DD");case"weekday":switch(d=L(n,e,t),d){case"narrow":return p.get("d");case"short":return p.get("ddd");default:return p.get("dddd")}case"hour":return r===12?s===1?p.get("h"):p.get("hh"):s===1?p.get("H"):p.get("HH");case"minute":return s===1?p.get("m"):p.get("mm");case"second":return s===1?p.get("s"):p.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(t)?p.get("A"):p.get("a");case"literal":return[t,{literal:t},new RegExp("")];case"timeZoneName":return o.timeStyle==="full"?p.get("Z"):p.get("ZZ");default:return}}function L(e,t,n){if(!C.has(e)){const o=new Date(E),s=[3,8,9,7,6,4,3],c=["weekday","month","dayPeriod"],d=["long","short","narrow"],l={};for(let h=0;h<12;h++){o.setMonth(0+h),h in s&&o.setDate(s[h]),o.setUTCHours(8+h);for(const a of d){const u=new Intl.DateTimeFormat(e,c.reduce((g,m)=>Object.assign(g,{[m]:a}),{hour12:!0,timeZone:"UTC"})).formatToParts(o).map(T);if(a==="long"||a==="short"){const m=new Intl.DateTimeFormat(e,{dateStyle:a==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(o).map(T).find(M=>M.type==="month"),y=u.findIndex(M=>M.type==="month");y>-1&&m&&(u[y]=m)}u.forEach(g=>{if(g.type==="literal")return;const m=g.type;l[m]=Object.assign(l[m]||{},{[g.value]:a})})}}C.set(e,l)}const r=C.get(e);return r?r[t][n]:void 0}function Pe(e,t="+00:00"){const n=t.slice(0,1)==="+";return Ne(e,t.replace(n?"+":"-",n?"-":"+"))}function Se(){return Intl.DateTimeFormat().resolvedOptions().locale}function Ce(e,t="long",n="device",r=!1,o){let s,c;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:t,locale:n,genitive:r,partFilter:o,tz:s}=e),t==="ISO8601"?D(e).toISOString():(s&&(c=U(e,"utc",s,je(t))),s??(s=J()),s?.toLowerCase()!=="utc"&&(e=Pe(e,U(e,s,"utc"))),(!n||n==="device")&&(n=Se()),ve(e,$e(t,n).filter(o??(()=>!0)),n,r,c).map(d=>d.value).join(""))}function Ee(e){if(e===0)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${+(e/Math.pow(1024,t)).toFixed(2)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}`}const j=window.location.origin,_e=()=>{const[e,t]=w.useState({}),[n,r]=w.useState([]),[o,s]=w.useState(""),[c,d]=w.useState(""),l=w.useRef(null);async function h(){let f=`${j}/files`;c&&c.trim()!==""&&(f+=`?q=${c}`);const b=await(await fetch(f)).json();t(b),r(b.files.map(x=>({...x,modificationDate:new Date(x.modificationDate).toLocaleDateString()+" "+Ce(new Date(x.creationDate),"YYYY-MM-DD hh:mm").split(" ")[1],creationDate:new Date(x.creationDate).toLocaleDateString(),size:Ee(x.size)}))),s(b.realPath)}const[a,u]=w.useState(null),g=500,m=w.useRef(null);async function y(f){a&&(clearInterval(a),u(null)),u(setTimeout(()=>{const v=f.target.value.trim();d(v)},g))}function M(){m.current.value="",a&&(clearInterval(a),u(null)),d("")}w.useEffect(()=>{h()},[c]);async function Z(f){(await fetch(`${j}/file/${f}`,{method:"DELETE"})).ok&&await h()}async function N(f){const b=await(await fetch(`${j}/download/${f}`)).arrayBuffer(),x=document.createElement("a"),P=new Blob([b]);x.href=URL.createObjectURL(P),x.download=f,document.body.appendChild(x),x.click(),x.remove()}const[Fe,O]=w.useState({}),V=1e3;async function G(f,v){v===f||v.trim()===""||O(b=>{b[f]&&clearTimeout(b[f]);const x=setTimeout(async()=>{(await fetch(`${j}/rename/${f}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newFilename:v})})).ok&&await h()},V);return{...b,[f]:x}})}async function Q(){const f=l.current;f.value=null,f.click()}async function X(f){const v=f.target.files;for(const b of v){const x=new FormData;x.append("file",b),(await fetch(`${j}/upload`,{method:"POST",body:x})).ok&&await h()}}return w.useEffect(()=>{h()},[]),i.jsxs("div",{className:"p-10 flex flex-col gap-4",children:[i.jsx("input",{onChange:X,ref:l,type:"file",name:"files",id:"files",multiple:!0,className:"hidden"}),i.jsxs("div",{className:"border border-neutral-200 p-4 rounded shadow overflow-hidden",children:[i.jsx("p",{className:"text-sm text-neutral-500",children:"Storage Path:"}),i.jsx("p",{className:"font-semibold",children:o})]}),i.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-4 lg:gap-0 justify-between items-center",children:[i.jsxs("div",{className:"bg-neutral-100 w-full lg:w-1/3 rounded shadow flex justify-start items-center relative",children:[i.jsx("span",{className:"mx-2",children:i.jsx(ce,{className:"text-neutral-700"})}),i.jsx("input",{ref:m,onChange:y,defaultValue:c,className:"py-2 focus:outline-none w-full",type:"search",placeholder:"Search files...",spellCheck:"false",autoComplete:"false"}),m.current?.value.trim()!==""&&i.jsx("button",{onClick:M,className:"absolute top-0 right-0 m-2 cursor-pointer",children:i.jsx(he,{className:"h-6 text-neutral-700 opacity-50 hover:opacity-100 transition-opacity"})})]}),i.jsx("div",{className:"flex flex-col lg:flex-row justify-center items-center gap-4 w-full lg:w-fit",children:i.jsxs("button",{onClick:Q,className:"w-full lg:w-fit cursor-pointer flex jusify-center items-center gap-1.5 bg-emerald-500 hover:bg-emerald-600 text-white py-2 px-4 rounded shadow font-semibold",children:[i.jsx(fe,{className:"size-4"}),"Upload"]})})]}),i.jsx("div",{className:"w-full rounded shadow border border-neutral-200 p-6 overflow-x-auto",children:i.jsxs("table",{className:"w-full overflow-x-hidden",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"min-w-[200px] lg:min-w-[400px] font-normal text-left text-nowrap pl-4 pb-1 font-semibold",children:"Filename"}),i.jsx("th",{className:"font-normal text-left text-nowrap pl-4 pb-1 font-semibold",children:"Size"}),i.jsx("th",{className:"font-normal text-left text-nowrap pl-4 pb-1 font-semibold",children:"Last Modified"}),i.jsx("th",{className:"font-normal text-left text-nowrap pl-4 pb-1 font-semibold",children:"Creation Date"}),i.jsx("th",{className:"w-[150px] font-normal text-center text-nowrap pb-1 font-semibold",children:"Actions"})]})}),i.jsx("tbody",{children:n.length>0&&n.map(f=>i.jsxs("tr",{className:"border-t border-b border-neutral-200 odd:bg-neutral-100",children:[i.jsx("td",{className:"px-1",children:i.jsx("input",{onChange:v=>G(f.filename,v.target.value),className:"w-full focus:outline-none focus:bg-neutral-200 py-2 rounded px-2",type:"text",defaultValue:f.filename,placeholder:"Filename",spellCheck:"false",autoComplete:"false"})}),i.jsx("td",{className:"pl-4 py-2",children:f.size}),i.jsx("td",{className:"pl-4 py-2",children:f.modificationDate}),i.jsx("td",{className:"pl-4 py-2",children:f.creationDate}),i.jsx("td",{className:"py-2 text-center",children:i.jsxs("div",{className:"flex justify-center items-center gap-2 w-full",children:[i.jsx("button",{onClick:()=>N(f.filename),className:"cursor-pointer rounded-full bg-blue-600 hover:bg-blue-700 text-white p-1.5",children:i.jsx(oe,{className:"size-4"})}),i.jsx("a",{href:`${j}/storage/${f.filename}`,target:"_blank",children:i.jsx("button",{className:"cursor-pointer rounded-full bg-cyan-500 hover:bg-cyan-600 text-white p-1.5",children:i.jsx(ae,{className:"size-4"})})}),i.jsx("button",{onClick:()=>Z(f.filename),className:"cursor-pointer rounded-full bg-red-500 hover:bg-red-600 text-white p-1.5",children:i.jsx(ue,{className:"size-4"})})]})})]},f.filename))})]})})]})};export{_e as default};
